<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style/main.css">
    <link rel="stylesheet" href="./style/responsive.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous">
    </script>
    <script defer src="../../controller/Vaccine.js"></script>
    <script defer src="../../controller/Stock.js"></script>
    <script defer src="../../controller/User.js"></script>
    <script defer src="../../util/jqueryUtilities.js" ></script>

    <script>
        const user = sessionStorage.getItem('accessLevel');

        function adminUser() {

            if (user === 'false' || user === null) {
                window.location.assign('../Home/');
            }
        }

        function logout() {
            sessionStorage.clear();
            window.location.assign('../Home/');
        }


        $(document).on("click", ".selection", function () {
            let value = $(this);

            if ($(this).hasClass('active')) {
                value.removeClass('active');
            } else {
                value.addClass('active');
            }
        })


    </script>

    <title>Bem vindo adm</title>



</head>

<body onload="adminUser()" id="body">
    <!--Menu do adm-->
    <header class="container">
        <img src="../../img/cardlab-logo-top.png" alt="logo">
        <div class="menu">
            <div class="itemMenu">
                <p href="#">Início</p>
            </div>
            <div class="itemMenu">
                <p href="#">Notícias</p>
            </div>
            <div class="itemMenu">
                <p href="#">Informações</p>
            </div>
        </div>
        <div class="botao">
            <button id="botaoSair" onclick="logout()">
                Sair
            </button>
        </div>

    </header>

    <main>


        <h3>Validar na carteira de vacina do paciente</h3>
        <div class="containerValidation">
            <div class="validarPaciente">
                <form action="" method="POST" onsubmit="User.searchUserToAuthenticate(event)">
                    <div class="buscarPaciente">
                        <label for="cpf">Digite o CPF:</label>
                        <input type="text" placeholder="buscar pelo cpf" id="searchCpf">

                        <button class="btnBuscar" type="submit">Buscar</button>
                    </div>
                </form>
                <table class="tabela" id="table">
                    <thead>
                        <tr>
                            <th>Nr carteira</th>
                            <th>Vacina</th>
                            <th>Fabricante</th>
                            <th>Data agendada</th>
                            <th>proxima dose</th>
                            <th>Posto de saúde</th>
                            <th>Descrição</th>
                        </tr>
                    </thead>
                </table>
                <div class="itemBtnValidar">
                    <button class="btnValidar" id="btnVallidation" onclick="Vaccine.cancelVaccine()">Validar</button>
                </div>
            </div>
        </div>


        <h3>Cadastrar nova vacina</h3>
        <div class="containerCadastrarVacina">
            <div class="cadastrarVacina">
                <form method="POST" onsubmit="Vaccine.createVaccine(event)">

                    <div class="itemCadastrarVacina">
                        <label for="nmvacina">Nome da vacina:</label>
                        <input type="text" placeholder="digite o nome" id="nameVaccine">

                        <label for="fbvac">Fabricante:</label>
                        <input type="text" placeholder="Digite o fabricante" id="manufacturerVaccine">

                        <label for="textvac">Descrição:</label>
                        <input type="text" placeholder="Descrição da vacina" id="textVac">

                        <label for="category">Categoria</label>
                        <select name="category" id="category">
                            <option value="Ao nascer">Ao nascer</option>
                            <option value="2 meses">2 meses</option>
                            <option value="3 meses">3 meses</option>
                            <option value="4 meses">4 meses</option>
                            <option value="5 meses">5 meses</option>
                            <option value="6 meses">6 meses</option>
                            <option value="9 meses">9 meses</option>
                            <option value="12 meses">12 meses</option>
                            <option value="15 meses">15 meses</option>
                            <option value="4 anos">4 anos</option>
                            <option value="Meninas de 9 a 14 anos">Meninas de 9 a 14 anos</option>
                            <option value="Meninos de 11 a 14 anos">Meninos de 11 a 14 anos</option>
                            <option value="10 a 19 anos">10 a 19 anos</option>
                            <option value="20 a 59 anos">20 a 59 anos</option>
                            <option value="Gestante">Gestante</option>
                            <option value="60 anos e mais">60 anos e mais</option>
                        </select>

                    </div>
                    <button class="btnCadastrar">Cadastrar</button>
                </form>
            </div>
        </div>


        <h3>Cadastrar novo estoque</h3>
        <div class="containerCadastrarEstoque">
            <div class="cadastrarEstoque">
                <form action="" method="POST" onsubmit="Stock.createStock(event)">

                    <div class="itemCadastrarEstoque">
                        <label for="dtFab">Data de fabricação:</label>
                        <input type="date" placeholder="digite a data de fab." id="dtFab">


                        <label for="dtVal">Data de validade:</label>
                        <input type="date" placeholder="Digite a data de val." id="dtVal">

                        <label for="lote">Lote:</label>
                        <input type="text" placeholder="Digite o lote" id="lote">

                        <label for="qntVac">Quantidade:</label>
                        <input type="number" placeholder="Digite a quantidade de vac." id="qntVac">

                        <label for="posto">Selecione o posto:</label>
                        <select name="posto" id="posto">
                            <option value="01">USF LOTY</option>
                            <option value="02">USF SAVOY</option>
                            <option value="03">USF GUAPIRANGA</option>
                            <option value="04">USF CENTRO</option>
                            <option value="05">USF GRANDESP</option>
                            <option value="06">USF SUARAO</option>
                            <option value="07">USF OASIS</option>
                            <option value="08">USF BELAS ARTES</option>
                            <option value="09">USF GAIVOTA</option>
                        </select>
                        <label for="vaccine">Selecione a vacina:</label>
                        <select id="vaccine">

                        </select>

                        <button>Enviar dados ao Estoque</button>

                    </div>
                </form>
            </div>
        </div>

        <h3>Editar vacina</h3>

        <div class="containerEditarVacina">
            <div class="editarVacina">
                <form id="newVaccine">
                    <select name="cdvacina" id="cdvacina"></select>
                    <select name="cdposto" id="cdposto"></select>
                    <button id="searchStock">Pesquisar</button>
                </form>
            </div>
        </div>
    </main>




</body>

</html>